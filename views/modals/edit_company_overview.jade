
include ../mixins/edit_modal_mixin

- var edit_link = '/portfolio/'+permalink+'/edit'



//- EDIT ABOUT: description & link to unabridged description on Crunchbase
+edit_modal(edit_link, 'edit-about', 'Edit About')
  div.small-label Company description
  textarea(placeholder='Add company description'  name='description'  autocomplete='off')
   if (p)
      | #{p.description}
  



//- EDIT HEADER: company's name, site url, logo, & short description
+edit_modal(edit_link, 'edit-header', 'Edit Header')
  div.small-label Image path
  input(name='image' placeholder='Add image path'  value=(p) ? p.img_path : undefined autofocus  autocomplete='off' type='text')

  div.small-label Company description
  textarea(name='short_descrip'  placeholder='Add company description'  autocomplete='off') 
      if (p)
        | #{p.short_descrip}

  div.small-label Homepage url
  input(name='homepage_url'  placeholder='Add homepage url'  autocomplete='off' value=(p) ? p.homepage_url : undefined  type='text')




//- EDIT INFO: basic info, including categories, founders, founding date, & total funding
+edit_modal(edit_link, 'edit-info', 'Edit Info')
  div.small-label Categories
  input(name='categories'  placeholder='Add categories'  autocomplete='off' value=(p) ? p.categories : undefined  type='text')

  div.small-label Founders
  input(name='founders'  placeholder='Add founders'  autocomplete='off' value=(p) ? p.founders : undefined  type='text')

  div.small-label Date founded
  input(name='founded_on'  placeholder='Add date founded'  autocomplete='off' value=(p) ? p.founded_on : undefined  type='text')

  div.small-label Funding
  input(name='total_funding'  placeholder='Add total funding'  autocomplete='off' value=(p) ? p.total_funding : undefined  type='text')




//- ADD MILESTONE:
+edit_modal(edit_link, 'add-milestone', 'Add Milestone')
  //- * This field tells the route (in Company.js) that this data should go into
  //- * a single object to be pushed onto the 'milestones' array inside of the
  //- * company rather than separate fields directly inside of company
  input(type='hidden' name='array' value='milestones') 

  div.small-label Title
  input(name='title'  placeholder='Add title'  autocomplete='off'  type='text')

  div.small-label Date
  input(name='date'  placeholder='Add date'  autocomplete='off' value=moment(Date.now()).format('DD MMMM YYYY')  type='text')

  div.small-label Description
  textarea(name='description'  placeholder='Add description'  autocomplete='off') 




//- EDIT MILESTONES:
+edit_modal(edit_link, 'edit-milestone', 'Edit Milestone')
  //- * This field tells the route (in Company.js) that this data should be used
  //- * to update the object whose id is specified in the 'milestones' array within a
  //- * company in the db.
  input(type='hidden' name='edit_obj_in_array' value='milestones')

  input(type='hidden' name='_id' id='milestone_id')

  div.small-label Title
  input(placeholder='Add title'  name='title'  id='title'  autocomplete='off'  type='text')

  div.small-label Date
  input(placeholder='Add date'  name='date'  id='date'  autocomplete='off'  type='text')

  div.small-label Description
  textarea(placeholder='Add description'  name='description'  id='description'  autocomplete='off') 




//- ADD TEAM MEMBER:
+edit_modal(edit_link, 'add-team-member', 'Add Team Member')
  //- * This field tells the route (in Company.js) that this data should go into
  //- * a single object to be pushed onto the 'team' array inside of the
  //- * company rather than separate fields directly inside of company
  input(type='hidden' name='array' value='team') 

  div.small-label Full name
  input(placeholder='Add title'  name='full_name'  autocomplete='off'  type='text')

  div.small-label Image path
  input(placeholder='Add image path'  name='img_path'  autocomplete='off'  type='text')

  div.small-label Role
  input(placeholder='Add role'  name='role'  autocomplete='off'  type='text')

  div.small-label Email
  input(placeholder='Add email'  name='email'  autocomplete='off'  type='text')

  div.small-label Date Joined
  input(placeholder='Add date joined'  name='date_joined'  autocomplete='off' value=moment(Date.now()).format('DD MMMM YYYY')  type='text')




//- EDIT TEAM MEMBER:
+edit_modal(edit_link, 'edit-team-member', 'Add Team Member')
  //- * This field tells the route (in Company.js) that this data should be used
  //- * to update the object whose id is specified in the 'team' array within a
  //- * company in the db.
  input(type='hidden' name='edit_obj_in_array' value='team') 

  input(type='text' name='_id' id='team_member_id')

  div.small-label Full name
  input(placeholder='Add title'  name='full_name'  id='full_name'  autocomplete='off'  type='text')

  div.small-label Image path
  input(placeholder='Add image path'  name='img_path'  id='img_path' autocomplete='off'  type='text')

  div.small-label Role
  input(placeholder='Add role'  name='role'  id='role' autocomplete='off'  type='text')

  div.small-label Email
  input(placeholder='Add email'  name='email'  id='email' autocomplete='off'  type='text')

  div.small-label Date Joined
  input(placeholder='Add date joined'  name='date_joined'  id='date_joined' autocomplete='off' type='text')





