script(type="text/javascript", src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js")

.tab-pane.row.graph-pane#operational
  .col-md-12.pane-header
    include quarter_info.jade

  //- CASH BY QUARTER (cash)
  .row.bottom-line
    
    .col-md-2
      h3 Cash

      .block-edit.edit-btn(data-toggle="modal" data-target="#edit-operational-cash")
        i.fa.fa-plus

      .block-info.block-table
        if operational.cash.length > 0
          for data in operational.cash.sort(chronological).reverse()
            .table-section
              .value #{usd(data.value)}
              .date Q#{moment(data.date).quarter()} #{moment(data.date).year()}
              .edit-btn(data-toggle="modal" data-target="#edit-operational-cash")
                i.fa.fa-pencil
        else
          .faded Add data
    
    .col-md-10
      h3 Cash By Quarter

      if (operational.cash.length > 0)
        +block_control("cashGraph", "cashBar", "cashArea", false, true)

      //- Grab the data
      script(type="text/javascript").
        var cash_data = !{JSON.stringify(operational.cash)};

      if operational.cash.length > 0
        .block-info.block-graph: .graph-padding#cashGraph
      else
        .block-info.block-table.faded No data available

  //- GROSS BURN BY QUARTER (pred_gross_burn + gross_burn)
  .row.bottom-line

    //- Forcasted Gross Burn
    .col-md-2
      h3 Forecasted Gross Burn

      .block-edit.edit-btn(data-toggle="modal" data-target="#edit-operational-pred-gross-burn")
        i.fa.fa-plus

      .block-info.block-table
        if operational.pred_gross_burn.length > 0
          for data in operational.pred_gross_burn.sort(chronological).reverse()
            .table-section
              .value #{usd(data.value)}
              .date Q#{moment(data.date).quarter()} #{moment(data.date).year()}
              .edit-btn(data-toggle="modal" data-target="#edit-operational-pred-gross-burn")
                i.fa.fa-pencil
        else
          .faded Add data

    //- Gross Burn
    .col-md-2
      h3 Gross Burn

      .block-edit.edit-btn(data-toggle="modal" data-target="#edit-operational-gross-burn")
        i.fa.fa-plus

      .block-info.block-table
        if operational.gross_burn.length > 0
          for data in operational.gross_burn.sort(chronological).reverse()
            .table-section
              .value #{usd(data.value)}
              .date Q#{moment(data.date).quarter()} #{moment(data.date).year()}
              .edit-btn(data-toggle="modal" data-target="#edit-operational-gross-burn")
                i.fa.fa-pencil
        else
          .faded Add data

    //- Graph: Gross Burn by quarter
    .col-md-8
      h3 Gross Burn By Quarter

      if operational.gross_burn.length + operational.pred_gross_burn.length > 0
        +block_control("grossBurnGraph", "grossBurnBar", "grossBurnArea", true, false)

      //- Grab the data
      script(type="text/javascript").
        var pred_gross_burn_data = !{JSON.stringify(operational.pred_gross_burn)},
            gross_burn_data = !{JSON.stringify(operational.gross_burn)};
    
      if operational.pred_gross_burn.length + operational.gross_burn.length > 0 
        .block-info.block-graph: .graph-padding#grossBurnGraph
      else
        .block-info.block-table.faded No data available

  //- NET BURN BY QUARTER (pred_net_burn + net_burn)
  .row.bottom-line
    //- Forecasted Net Burn
    .col-md-2
      h3 Forecasted Net Burn

      .block-edit.edit-btn(data-toggle="modal" data-target="#edit-operational-pred-net-burn")
        i.fa.fa-plus

      .block-info.block-table
        if operational.pred_net_burn.length > 0
          for data in operational.pred_net_burn.sort(chronological).reverse()
            .table-section
              .value #{usd(data.value)}
              .date Q#{moment(data.date).quarter()} #{moment(data.date).year()}
              .edit-btn(data-toggle="modal" data-target="#edit-operational-pred-net-burn")
                i.fa.fa-pencil
        else
          .faded Add data

    //- Net Burn
    .col-md-2
      h3 Net Burn

      .block-edit.edit-btn(data-toggle="modal" data-target="#edit-operational-net-burn")
        i.fa.fa-plus

      .block-info.block-table
        if operational.net_burn.length > 0
          for data in operational.net_burn.sort(chronological).reverse()
            .table-section
              .value #{usd(data.value)}
              .date Q#{moment(data.date).quarter()} #{moment(data.date).year()}
              .edit-btn(data-toggle="modal" data-target="#edit-operational-net-burn")
                i.fa.fa-pencil
        else
          .faded Add data

    //- Net Burn by Quarter
    .col-md-8
      h3 Net Burn by Quarter

      if (operational.pred_net_burn.length + operational.net_burn.length > 0)
        +block_control("netBurnGraph", "netBurnBar", "netBurnArea", true, false)

      //- Grab the data
      script(type="text/javascript").
        var pred_net_burn_data = !{JSON.stringify(operational.pred_net_burn)},
            net_burn_data = !{JSON.stringify(operational.net_burn)};

      if (operational.pred_net_burn.length + operational.net_burn.length > 0)
        .block-info.block-graph:.graph-padding#netBurnGraph
      else
        .block-info.block-table.faded No data available

  //- REVENUE BY QUARTER (revenue)
  .row.bottom-line
    //- Revenue
    .col-md-2
      h3 Revenue

      .block-edit.edit-btn(data-toggle="modal" data-target="#edit-operational-revenue")
        i.fa.fa-plus

      .block-info.block-table
        if operational.revenue.length > 0
          for data in operational.revenue.sort(chronological).reverse()
            .table-section
              .value #{usd(data.value)}
              .date Q#{moment(data.date).quarter()} #{moment(data.date).year()}
              .edit-btn(data-toggle="modal" data-target="#edit-operational-revenue")
                i.fa.fa-pencil
        else
          .faded Add data

    //- Revenue By Quarter
    .col-md-10
      h3 Revenue By Quarter

      if operational.revenue.length > 0
        +block_control("revenueGraph", "revenueBar", "revenueArea", true, false)

      //- Grab the data
      script(type="text/javascript").
        var revenue_data = !{JSON.stringify(operational.revenue)};

      if (operational.revenue.length > 0)
        .block-info.block-graph:.graph-padding#revenueGraph
      else
        .block-info.block-table.faded No data available

  //- HEAD COUNT (head_count)
  .row
    .col-md-2
      h3 Head Count

      .block-edit.edit-btn(data-toggle="modal" data-target="#edit-operational-head-count")
        i.fa.fa-plus

      .block-info.block-table
        if operational.head_count.length > 0
          for data in operational.head_count.sort(chronological).reverse()
            .table-section
              .value #{data.value}
              .date Q#{moment(data.date).quarter()} #{moment(data.date).year()}
              .edit-btn(data-toggle="modal" data-target="#edit-operational-head-count")
                i.fa.fa-pencil
        else
          .faded Add data

    .col-md-10
      h3 Head Count By Quarter

      if operational.head_count.length > 0
        +block_control("headCountGraph", "headCountBar", "headCountArea", true, false)

      //- Grab the data
      script(type="text/javascript").
        var head_count_data = !{JSON.stringify(operational.head_count)};

      if (operational.head_count.length > 0)
        .block-info.block-graph:.graph-padding#headCountGraph
      else
        .block-info.block-table.faded No data available
